<!DOCTYPE html PUBLIC ""
    "">
<html><head><meta charset="UTF-8" /><title>nicheware.platform.utilities.common.math documentation</title><link rel="stylesheet" type="text/css" href="css/default.css" /><link rel="stylesheet" type="text/css" href="highlight/solarized-light.css" /><script type="text/javascript" src="highlight/highlight.min.js"></script><script type="text/javascript" src="js/jquery.min.js"></script><script type="text/javascript" src="js/page_effects.js"></script><script>hljs.initHighlightingOnLoad();</script><link rel="stylesheet" type="text/css" href="css/tree.css" /></head><body><div id="header"><h2>Generated by <a href="https://github.com/weavejester/codox">Codox</a> with <a href="https://github.com/xsc/codox-theme-rdash">RDash UI</a> theme</h2><h1><a href="index.html"><span class="project-title"><span class="project-name">cljc-common</span> <span class="project-version">1.0.0</span></span></a></h1></div><div class="sidebar primary"><h3 class="no-link"><span class="inner">Project</span></h3><ul class="index-link"><li class="depth-1 "><a href="index.html"><div class="inner">Index</div></a></li></ul><h3 class="no-link"><span class="inner">Topics</span></h3><ul><li class="depth-1 "><a href="intro.html"><div class="inner"><span>Introduction</span></div></a></li></ul><h3 class="no-link"><span class="inner">Namespaces</span></h3><ul><li class="depth-1"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>nicheware</span></div></div></li><li class="depth-2"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>platform</span></div></div></li><li class="depth-3"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>utilities</span></div></div></li><li class="depth-4"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>common</span></div></div></li><li class="depth-5 branch"><a href="nicheware.platform.utilities.common.config.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>config</span></div></a></li><li class="depth-5 branch"><a href="nicheware.platform.utilities.common.core.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>core</span></div></a></li><li class="depth-5"><a href="nicheware.platform.utilities.common.graphics.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>graphics</span></div></a></li><li class="depth-6 branch"><a href="nicheware.platform.utilities.common.graphics.color.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>color</span></div></a></li><li class="depth-6 branch"><a href="nicheware.platform.utilities.common.graphics.interpolate.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>interpolate</span></div></a></li><li class="depth-6"><a href="nicheware.platform.utilities.common.graphics.line.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>line</span></div></a></li><li class="depth-5 branch current"><a href="nicheware.platform.utilities.common.math.html"><div class="inner"><span class="tree" style="top: -114px;"><span class="top" style="height: 123px;"></span><span class="bottom"></span></span><span>math</span></div></a></li><li class="depth-5"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>state</span></div></div></li><li class="depth-6"><a href="nicheware.platform.utilities.common.state.migration.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>migration</span></div></a></li><li class="depth-5"><a href="nicheware.platform.utilities.common.version.html"><div class="inner"><span class="tree" style="top: -52px;"><span class="top" style="height: 61px;"></span><span class="bottom"></span></span><span>version</span></div></a></li></ul></div><div class="sidebar secondary"><h3><a href="#top"><span class="inner">Public Vars</span></a></h3><ul><li class="depth-1"><a href="nicheware.platform.utilities.common.math.html#var-ceil"><div class="inner"><span>ceil</span></div></a></li><li class="depth-1"><a href="nicheware.platform.utilities.common.math.html#var-clamp-change"><div class="inner"><span>clamp-change</span></div></a></li><li class="depth-1"><a href="nicheware.platform.utilities.common.math.html#var-diff"><div class="inner"><span>diff</span></div></a></li><li class="depth-1"><a href="nicheware.platform.utilities.common.math.html#var-div"><div class="inner"><span>div</span></div></a></li><li class="depth-1"><a href="nicheware.platform.utilities.common.math.html#var-floor"><div class="inner"><span>floor</span></div></a></li><li class="depth-1"><a href="nicheware.platform.utilities.common.math.html#var-make-ratio-sequence-fn"><div class="inner"><span>make-ratio-sequence-fn</span></div></a></li><li class="depth-1"><a href="nicheware.platform.utilities.common.math.html#var-max-abs"><div class="inner"><span>max-abs</span></div></a></li><li class="depth-1"><a href="nicheware.platform.utilities.common.math.html#var-mult"><div class="inner"><span>mult</span></div></a></li><li class="depth-1"><a href="nicheware.platform.utilities.common.math.html#var-ratio-sequence"><div class="inner"><span>ratio-sequence</span></div></a></li><li class="depth-1"><a href="nicheware.platform.utilities.common.math.html#var-round"><div class="inner"><span>round</span></div></a></li><li class="depth-1"><a href="nicheware.platform.utilities.common.math.html#var-roundn"><div class="inner"><span>roundn</span></div></a></li></ul></div><div class="namespace-docs" id="content"><h1 class="anchor" id="top">nicheware.platform.utilities.common.math</h1><div class="doc"><div class="markdown"><p>Functions complementing those in the Clojure/Clojurescript Math namespace.</p>
<p>There are groups of functions and variables within math that deal with:</p>
<table>
  <thead>
    <tr>
      <th>Function group</th>
      <th>Functions</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>value manipulations</td>
      <td><a href="nicheware.platform.utilities.common.math.html#var-roundn">roundn</a>, <a href="nicheware.platform.utilities.common.math.html#var-round">round</a>, <a href="nicheware.platform.utilities.common.math.html#var-ceil">ceil</a>, <a href="nicheware.platform.utilities.common.math.html#var-floor">floor</a>, <a href="nicheware.platform.utilities.common.math.html#var-div">div</a>, <a href="nicheware.platform.utilities.common.math.html#var-diff">diff</a>, <a href="nicheware.platform.utilities.common.math.html#var-mult">mult</a>, <a href="nicheware.platform.utilities.common.math.html#var-clamp-change">clamp-change</a>, <a href="nicheware.platform.utilities.common.math.html#var-max-abs">max-abs</a></td>
    </tr>
    <tr>
      <td>sequence generators</td>
      <td><a href="nicheware.platform.utilities.common.math.html#var-make-ratio-sequence-fn">make-ratio-sequence-fn</a>, <a href="nicheware.platform.utilities.common.math.html#var-ratio-sequence">ratio-sequence</a></td>
    </tr>
  </tbody>
</table>
<p>Where suitable, uses Math/ functions.</p></div></div><div class="public anchor" id="var-ceil"><h3>ceil</h3><div class="usage"><code>(ceil value)</code></div><div class="doc"><div class="markdown"><p>Ceiling call which converts return value to int to simplify later type checking.</p>
<ul>
  <li>value: Value as source for ceiling.</li>
  <li>returns: ceiling of value as an int.</li>
</ul>
<p>eg:</p>
<pre><code class="clojure">  (ceil 1.3) =&gt; 2
</code></pre></div></div><div class="src-link"><a href="https://github.com/nicheware/cljc-common/blob/master/src/cljc/nicheware/platform/utilities/common/math.cljc#L42">view source</a></div></div><div class="public anchor" id="var-clamp-change"><h3>clamp-change</h3><div class="usage"><code>(clamp-change start end max-abs-change)</code></div><div class="doc"><div class="markdown"><p>Clamps the change (positive or negative) to the specified absolute magnitude.</p>
<ul>
  <li>start: start of difference calculation.</li>
  <li>end: end of difference calculation.</li>
  <li>max-abs-change: Maximum absolute difference to be returned.</li>
  <li>returns: start + max of (end - start) and max-abs-change</li>
</ul>
<p>eg:</p>
<pre><code class="clojure">  (clamp-change 1 9 6) =&gt; 7
  (clamp-change 9 1 6) =&gt; 3
  (clamp-change 1 9 10) =&gt; 9
</code></pre></div></div><div class="src-link"><a href="https://github.com/nicheware/cljc-common/blob/master/src/cljc/nicheware/platform/utilities/common/math.cljc#L115">view source</a></div></div><div class="public anchor" id="var-diff"><h3>diff</h3><div class="usage"><code>(diff value1 value2)</code></div><div class="doc"><div class="markdown"><p>Absolute difference.</p>
<ul>
  <li>values1: First value to be used in difference.</li>
  <li>value2: Second value to be used in difference.</li>
  <li>returns: abs(value2 - value1)</li>
</ul>
<p>eg:</p>
<pre><code class="clojure">  (diff 1 2) =&gt; 1
</code></pre></div></div><div class="src-link"><a href="https://github.com/nicheware/cljc-common/blob/master/src/cljc/nicheware/platform/utilities/common/math.cljc#L85">view source</a></div></div><div class="public anchor" id="var-div"><h3>div</h3><div class="usage"><code>(div numer denom)</code></div><div class="doc"><div class="markdown"><p>Do division in format consistent between ClojureScript (which has no ratio) and Clojure.</p>
<ul>
  <li>numer: Numerator for division.</li>
  <li>denom: Denominator for division.</li>
  <li>returns: float of result of division. (java.lang.Double for JVM)</li>
</ul>
<p>eg:</p>
<pre><code class="clojure">  (div 1 2) =&gt; 0.5
</code></pre></div></div><div class="src-link"><a href="https://github.com/nicheware/cljc-common/blob/master/src/cljc/nicheware/platform/utilities/common/math.cljc#L70">view source</a></div></div><div class="public anchor" id="var-floor"><h3>floor</h3><div class="usage"><code>(floor value)</code></div><div class="doc"><div class="markdown"><p>Floor call which converts return value to int to simplify later type checking.</p>
<ul>
  <li>value: Value as source for floor.</li>
  <li>returns: floor of value as an int.</li>
</ul>
<p>eg:</p>
<pre><code class="clojure">  (floor 1.7) =&gt; 1
</code></pre></div></div><div class="src-link"><a href="https://github.com/nicheware/cljc-common/blob/master/src/cljc/nicheware/platform/utilities/common/math.cljc#L56">view source</a></div></div><div class="public anchor" id="var-make-ratio-sequence-fn"><h3>make-ratio-sequence-fn</h3><div class="usage"><code>(make-ratio-sequence-fn ratio total)</code></div><div class="doc"><div class="markdown"><p>Creates a function which accepts arguments 0, 1, ….n  generating a sequence where each value is a progressive ratio of the supplied total.</p>
<p>eg ratio = 0.5, total 10, then</p>
<ul>
  <li>initial point is half of total (0.5)</li>
  <li>next point is half of remaining distance (7.5)</li>
  <li>next is half again of remaining (8.75) etc</li>
</ul>
<p>f(x) = f(x-1) + ratio * (total - f(x-1))</p>
<ul>
  <li>ratio: float value used to compute next point between current point and total.</li>
  <li>total: end value used to computer intermediate point. No value will be greater than this.</li>
  <li>returns: a function that accepts a single int argument, indicating which nth value is required.  Will compute ratio n times, starting between 0 and total, and then taking result as new starting point.</li>
</ul></div></div><div class="src-link"><a href="https://github.com/nicheware/cljc-common/blob/master/src/cljc/nicheware/platform/utilities/common/math.cljc#L158">view source</a></div></div><div class="public anchor" id="var-max-abs"><h3>max-abs</h3><div class="usage"><code>(max-abs val1 val2)</code></div><div class="doc"><div class="markdown"><p>Return whichever value is the biggest absolute value, retaining the sign on the returned value.</p>
<ul>
  <li>val1: First input value to compare against.</li>
  <li>val2: Second input value to compare against.</li>
  <li>returns: either val1 or val2, whichever has biggest absolute value.</li>
</ul>
<p>eg:</p>
<pre><code class="clojure">max-abs(-1 -2) =&gt; -2
max-abs(1 2)   =&gt; 2
max-abs(1 -2)  =&gt; -2
</code></pre></div></div><div class="src-link"><a href="https://github.com/nicheware/cljc-common/blob/master/src/cljc/nicheware/platform/utilities/common/math.cljc#L136">view source</a></div></div><div class="public anchor" id="var-mult"><h3>mult</h3><div class="usage"><code>(mult arg1 arg2)</code></div><div class="doc"><div class="markdown"><p>Multiply to 4 decimal places.</p>
<ul>
  <li>arg1: first arg to be multiplied.</li>
  <li>arg2: second arg to be multiplied.</li>
  <li>returns: arg1 * arg2 with precision of 4.</li>
</ul>
<p>eg:</p>
<pre><code class="clojure">  (mult 1.74 2.887) =&gt; 5.0234
</code></pre></div></div><div class="src-link"><a href="https://github.com/nicheware/cljc-common/blob/master/src/cljc/nicheware/platform/utilities/common/math.cljc#L100">view source</a></div></div><div class="public anchor" id="var-ratio-sequence"><h3>ratio-sequence</h3><div class="usage"><code>(ratio-sequence ratio start end)</code></div><div class="doc"><div class="markdown"><p>Makes a lazy infinite sequence from the ratio function, producing values  starting at start and getting closer to end (but never reaching).</p>
<ul>
  <li>ratio: float value used to compute next point between current point and end.</li>
  <li>start: initial value in sequence</li>
  <li>end: End value, which will never be reached.</li>
  <li>returns: lazy sequence of points between start and end, approaching end using ratio. see <a href="nicheware.platform.utilities.common.math.html#var-make-ratio-sequence-fn">make-ratio-sequence-fn</a> for details on function used to produce points.</li>
</ul>
<p>eg:</p>
<pre><code class="clojure">(take 10 (ratio-sequence 0.5 0 20))
 =&gt;
(0 10.0 15.0 17.5 18.75 19.375 19.6875 19.84375 19.921875 19.9609375)
</code></pre></div></div><div class="src-link"><a href="https://github.com/nicheware/cljc-common/blob/master/src/cljc/nicheware/platform/utilities/common/math.cljc#L190">view source</a></div></div><div class="public anchor" id="var-round"><h3>round</h3><div class="usage"><code>(round value)</code></div><div class="doc"><div class="markdown"><p>Rounds a value, handling floats and ints and always returning an int.</p>
<ul>
  <li>value: Value to be rounded. Can be float or int.</li>
  <li>returns: rounded value as an int.</li>
</ul></div></div><div class="src-link"><a href="https://github.com/nicheware/cljc-common/blob/master/src/cljc/nicheware/platform/utilities/common/math.cljc#L34">view source</a></div></div><div class="public anchor" id="var-roundn"><h3>roundn</h3><div class="usage"><code>(roundn precision num)</code></div><div class="doc"><div class="markdown"><p>Rounds a float to the given precision.</p>
<ul>
  <li>precision: Number of decimal places to round to. 0 will result in int.</li>
  <li>num: float to be rounded.</li>
  <li>returns: num rounded to precision.</li>
</ul>
<p>eg:</p>
<pre><code class="clojure">(roundn 1.54364 3) =&gt; 1.544
</code></pre></div></div><div class="src-link"><a href="https://github.com/nicheware/cljc-common/blob/master/src/cljc/nicheware/platform/utilities/common/math.cljc#L18">view source</a></div></div></div></body></html>